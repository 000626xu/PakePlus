import{r as n,b2 as e,q as t,F as r,a6 as o,b3 as u,b4 as c,ay as a,Q as i,b5 as l}from"./index-aeca932e.js";import{g as f}from"./getScrollBarSize-6b2349d8.js";var d=n.createContext(null),s=[];var v="rc-util-locker-".concat(Date.now()),m=0;function h(e){var r=!!e,a=n.useState((function(){return m+=1,"".concat(v,"_").concat(m)})),i=t(a,1)[0];o((function(){if(r){var n=f(document.body).width,e=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;u("\nhtml body {\n  overflow-y: hidden;\n  ".concat(e?"width: calc(100% - ".concat(n,"px);"):"","\n}"),i)}else c(i);return function(){c(i)}}),[r,i])}var y=!1;var b=function(n){return!1!==n&&(e()&&n?"string"==typeof n?document.querySelector(n):"function"==typeof n?n():n:null)},p=n.forwardRef((function(u,c){var f=u.open,v=u.autoLock,m=u.getContainer;u.debug;var p=u.autoDestroy,g=void 0===p||p,w=u.children,E=n.useState(f),S=t(E,2),x=S[0],C=S[1],H=x||f;n.useEffect((function(){(g||f)&&C(f)}),[f,g]);var P=n.useState((function(){return b(m)})),j=t(P,2),k=j[0],q=j[1];n.useEffect((function(){var n=b(m);q(null!=n?n:null)}));var D=function(u){var c=n.useState((function(){return e()?document.createElement("div"):null})),a=t(c,1)[0],i=n.useRef(!1),l=n.useContext(d),f=n.useState(s),v=t(f,2),m=v[0],h=v[1],y=l||(i.current?void 0:function(n){h((function(e){return[n].concat(r(e))}))});function b(){a.parentElement||document.body.appendChild(a),i.current=!0}function p(){var n;null===(n=a.parentElement)||void 0===n||n.removeChild(a),i.current=!1}return o((function(){return u?l?l(b):b():p(),p}),[u]),o((function(){m.length&&(m.forEach((function(n){return n()})),h(s))}),[m]),[a,y]}(H&&!k),R=t(D,2),W=R[0],z=R[1],B=null!=k?k:W;h(v&&f&&e()&&(B===W||B===document.body));var F=null;w&&a(w)&&c&&(F=w.ref);var L=i(F,c);if(!H||!e()||void 0===k)return null;var Q,$=!1===B||("boolean"==typeof Q&&(y=Q),y),_=w;return c&&(_=n.cloneElement(w,{ref:L})),n.createElement(d.Provider,{value:z},$?_:l.createPortal(_,B))}));export{p as P};
