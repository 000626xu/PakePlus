import{b as e,u as t,e as a,g as o,r as i,j as s,B as n,m as r}from"./index-aeca932e.js";import{F as m}from"./index-85dc0d3a.js";import{a as l}from"./index-801a9590.js";import"./index-d93151a5.js";import"./index-d90fa46f.js";import"./index-5a025839.js";import"./index-fb057fd6.js";import{h as p}from"./hado-2bd80816.js";import{u as d}from"./useSetState-8e08c7f5.js";import"./responsiveObserve-cfbf1a72.js";import"./index-5bcf51a7.js";import"./getScrollBarSize-6b2349d8.js";import"./isEqual-89fb4070.js";import"./useForceUpdate-c2b76191.js";import"./index-4a60c0a0.js";import"./index-73995e0d.js";import"./EyeOutlined-f0ed5c3d.js";function c(){const{t:c}=e();document.title="HADO CRM";const u=t();a((e=>e.app.powersCode));let[g,j]=o();const x=g.get("id");m.useForm();const[f,N]=i.useState([]),[S,y]=i.useState(!1),[h,z]=d({pageNum:1,pageSize:10,total:0}),b=async e=>{const t={page:e.pageNum,limit:e.pageSize,filetype:x};y(!0);try{const a=await p.operationRecord(t);a&&200===a.code?(N(a.data),z({total:a.cont,pageNum:e.pageNum,pageSize:e.pageSize})):r.error((null==a?void 0:a.message)??c("dataFetchFailed"))}finally{y(!1)}},k=[{title:c("fileName"),dataIndex:"fileName",key:"fileName"},{title:c("action"),dataIndex:"control",key:"control"},{title:c("operator"),dataIndex:"controlName",key:"controlName"},{title:c("operationTime"),dataIndex:"controlTime",key:"controlTime"}],v={0:c("syncConfiguration"),1:c("uploadConfiguration"),2:c("deleteConfiguration")},C=i.useMemo((()=>f.map(((e,t)=>({key:e.id,fileName:e.filename,controlName:e.username,control:v[e.optstatus],controlTime:e.addtime})))),[h,f]);i.useEffect((()=>{b(h)}),[]);const T={emptyText:c("noDataAvailable")};return s.jsxs("div",{className:"gameList",children:[s.jsx("div",{className:"btnBox",children:s.jsx(n,{type:"primary",ghost:!0,className:"btn",onClick:()=>{u("/game/list")},children:c("return")})}),s.jsx("div",{className:"diy-table",children:s.jsx(l,{columns:k,loading:S,locale:T,dataSource:C,pagination:{total:h.total,current:h.pageNum,pageSize:h.pageSize,showQuickJumper:!1,showTotal:e=>c("dataNumber",{count:e}),onChange:(e,t)=>((e,t)=>{b({pageNum:e,pageSize:t||h.pageSize})})(e,t)}})})]})}export{c as default};
